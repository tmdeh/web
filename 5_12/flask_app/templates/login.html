<!doctype html>
<html lang="ko">
	<head>
	<meta charset="utf-8" />
<!--
index.html 파일에 설명된 것처럼,
app.css 의 경로와 상단 링크의 경로들을 변경해야합니다.
-->
		<link rel="stylesheet" href="/static/app.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
	</head>
	<body>
		<!-- 
		Starter Template https://getbootstrap.com/docs/4.6/examples/starter-template/
		-->
		<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
			<div class="container-fluid">
				<a class="navbar-brand" href="index.html">웹프로그래밍</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar">
					<span class="navbar-toggler-icon"></span>
				</button>
			
				<div class="collapse navbar-collapse" id="navbar">
					<ul class="navbar-nav mr-auto">
						<li class="nav-item">
							<a class="nav-link" href="/">HOME</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/join">회원가입</a>
						</li>
					</ul>
					<ul class="navbar-nav">
{% if user_name %}
	<!-- 로그인이 되어 있다면 이름과 로그아웃 버튼 표시 -->
						<li class="nav-item">
							<a class="nav-link active">{{ user_name }}</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/logout">로그아웃</a>
						</li>
{% else %}
	<!-- 로그인이 안되어 있다면 로그인 버튼 표시 -->
						<li class="nav-item">
							<a class="nav-link" href="/login">로그인</a>
						</li>
{% endif %}
					</ul>
				</div>
			</div>
		</nav>
		<div class="text-center">
			<h3>로그인</h3>
<!--
form 태그의 action 속성은 폼 데이터가 전송될 주소를 의미합니다.
app.py에서 /login 주소로 POST method를 통해 받도록 설정했으니, 맞게 설정합니다.
-->
			<form class="form-signin" method="POST" action="/login">
<!--
input 태그의 name 속성도 app.py 에서 값을 불러올때와 맞춰서 입력해줘야합니다.
-->
				<input type="text" name="uid" class="form-control" placeholder="ID" required autofocus>
				<input type="password" name="upw" class="form-control" placeholder="비밀번호" required>
<!--
로그인에 실패했을 경우에 login.html 파일을 불러오는데, app.py에서 err=True 변수를 설정했었습니다.
err 값이 있으면 오류 메세지를 표시해줄게요.
-->
{% if err %}
				<p class="error">ID, 비밀번호가 올바르지 않습니다.</p>
{% endif %}
				<button class="btn btn-lg btn-primary btn-block" type="submit">로그인</button>
			</form>
		</div>
	</body>
</html>
